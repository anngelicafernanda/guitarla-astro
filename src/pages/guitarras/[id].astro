---
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
    const url = `${import.meta.env.PUBLIC_API_URL}/guitarras?populate=images`
    const respuesta = await fetch(url)
    const { data } = await respuesta.json()
    return data.map(guitarra => ({
        params: {
            id: guitarra.attributes.url
        },
        props: {
            guitarra: guitarra.attributes
        }
    }))
}

console.log(Astro.params)
console.log(Astro.props)

---

<Layout title="Tienda Virtual" description="Página de tienda de instrumentos musicales, guitarras, cursos, blog y más">
    <main class="guitarra">
        <h1 class="heading">Routing Dinamico</h1>
    </main>
</Layout>